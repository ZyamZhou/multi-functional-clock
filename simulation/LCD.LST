C51 COMPILER V9.00   LCD                                                                   07/10/2021 15:25:30 PAGE 1   


C51 COMPILER V9.00, COMPILATION OF MODULE LCD
OBJECT MODULE PLACED IN LCD.OBJ
COMPILER INVOKED BY: D:\ProgramDownload_3\Keil4\C51\BIN\C51.EXE LCD.c BROWSE DEBUG OBJECTEXTEND

line level    source

   1          /*变量定义*/
   2          #include <reg52.h>
   3          #include <intrins.h>
   4          #include <lunarCalender.h>
   5          
   6          #define uint unsigned int
   7          #define uchar unsigned char 
   8          
   9          #define DATA P0
  10          sbit RS=P2^2;
  11          sbit RW=P2^1;
  12          sbit EN=P2^0;
  13          sbit cs1=P2^3;
  14          sbit cs2=P2^4;
  15          
  16          uchar code words[]={
  17          /*--  文字:  年 0 --*/
  18          0x00,0x20,0x18,0xC7,0x44,0x44,0x44,0x44,0xFC,0x44,0x44,0x44,0x44,0x04,0x00,0x00,
  19          0x04,0x04,0x04,0x07,0x04,0x04,0x04,0x04,0xFF,0x04,0x04,0x04,0x04,0x04,0x04,0x00,
  20          /*--  文字:  月 1 --*/
  21          0x00,0x00,0x00,0xFE,0x22,0x22,0x22,0x22,0x22,0x22,0x22,0x22,0xFE,0x00,0x00,0x00,
  22          0x80,0x40,0x30,0x0F,0x02,0x02,0x02,0x02,0x02,0x02,0x42,0x82,0x7F,0x00,0x00,0x00,
  23          /*--  文字:  日 2 --*/
  24          0x00,0x00,0x00,0xFE,0x82,0x82,0x82,0x82,0x82,0x82,0x82,0xFE,0x00,0x00,0x00,0x00,
  25          0x00,0x00,0x00,0xFF,0x40,0x40,0x40,0x40,0x40,0x40,0x40,0xFF,0x00,0x00,0x00,0x00,
  26          /*--  文字:  时 3 --*/
  27          0x00,0xFC,0x84,0x84,0x84,0xFC,0x00,0x10,0x10,0x10,0x10,0x10,0xFF,0x10,0x10,0x00,
  28          0x00,0x3F,0x10,0x10,0x10,0x3F,0x00,0x00,0x01,0x06,0x40,0x80,0x7F,0x00,0x00,0x00,
  29          /*--  文字:  分 4 --*/
  30          0x80,0x40,0x20,0x90,0x88,0x86,0x80,0x80,0x80,0x83,0x8C,0x10,0x20,0x40,0x80,0x00,
  31          0x00,0x80,0x40,0x20,0x18,0x07,0x00,0x40,0x80,0x40,0x3F,0x00,0x00,0x00,0x00,0x00,
  32          /*--  文字:  秒 5--*/
  33          0x24,0x24,0xA4,0xFE,0x23,0x22,0x00,0xC0,0x38,0x00,0xFF,0x00,0x08,0x10,0x60,0x00,
  34          0x08,0x06,0x01,0xFF,0x01,0x06,0x81,0x80,0x40,0x40,0x27,0x10,0x0C,0x03,0x00,0x00,
  35          /*--  文字:  星 6 --*/
  36          0x00,0x00,0x00,0xBE,0x2A,0x2A,0x2A,0xEA,0x2A,0x2A,0x2A,0x3E,0x00,0x00,0x00,0x00,
  37          0x00,0x44,0x42,0x49,0x49,0x49,0x49,0x7F,0x49,0x49,0x49,0x49,0x41,0x40,0x00,0x00,
  38          /*--  文字:  期 7--*/
  39          0x00,0x04,0xFF,0x24,0x24,0x24,0xFF,0x04,0x00,0xFE,0x22,0x22,0x22,0xFE,0x00,0x00,
  40          0x88,0x48,0x2F,0x09,0x09,0x19,0xAF,0x48,0x30,0x0F,0x02,0x42,0x82,0x7F,0x00,0x00,
  41          /*--  文字:  一  --*/
  42          0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x00,
  43          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  44          /*--  文字:  二  --*/
  45          0x00,0x00,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x00,0x00,0x00,
  46          0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x00,
  47          /*--  文字:  三  --*/
  48          0x00,0x04,0x84,0x84,0x84,0x84,0x84,0x84,0x84,0x84,0x84,0x84,0x84,0x04,0x00,0x00,
  49          0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x00,
  50          /*--  文字:  四  --*/
  51          0x00,0xFC,0x04,0x04,0x04,0xFC,0x04,0x04,0x04,0xFC,0x04,0x04,0x04,0xFC,0x00,0x00,
  52          0x00,0x7F,0x28,0x24,0x23,0x20,0x20,0x20,0x20,0x21,0x22,0x22,0x22,0x7F,0x00,0x00,
  53          /*--  文字:  五  --*/
  54          0x00,0x02,0x42,0x42,0x42,0xC2,0x7E,0x42,0x42,0x42,0x42,0xC2,0x02,0x02,0x00,0x00,
  55          0x40,0x40,0x40,0x40,0x78,0x47,0x40,0x40,0x40,0x40,0x40,0x7F,0x40,0x40,0x40,0x00,
C51 COMPILER V9.00   LCD                                                                   07/10/2021 15:25:30 PAGE 2   

  56          /*--  文字:  六  --*/
  57          0x20,0x20,0x20,0x20,0x20,0x20,0x21,0x22,0x2C,0x20,0x20,0x20,0x20,0x20,0x20,0x00,
  58          0x00,0x40,0x20,0x10,0x0C,0x03,0x00,0x00,0x00,0x01,0x02,0x04,0x18,0x60,0x00,0x00,
  59          /*--  文字:  七  --*/
  60          0x80,0x80,0x80,0x80,0x80,0x40,0xFF,0x40,0x40,0x40,0x20,0x20,0x20,0x20,0x00,0x00,
  61          0x00,0x00,0x00,0x00,0x00,0x00,0x3F,0x40,0x40,0x40,0x40,0x40,0x40,0x78,0x00,0x00
  62          };               
  63          
  64          uchar code numbers[]={  /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
  65          /*--  文字:  0  --*/
  66          0x00,0xE0,0x10,0x08,0x08,0x10,0xE0,0x00,0x00,0x0F,0x10,0x20,0x20,0x10,0x0F,0x00,
  67          /*--  文字:  1  --*/
  68          0x00,0x00,0x10,0x10,0xF8,0x00,0x00,0x00,0x00,0x00,0x20,0x20,0x3F,0x20,0x20,0x00,
  69          /*--  文字:  2  --*/
  70          0x00,0x70,0x08,0x08,0x08,0x08,0xF0,0x00,0x00,0x30,0x28,0x24,0x22,0x21,0x30,0x00,
  71          /*--  文字:  3  --*/
  72          0x00,0x30,0x08,0x08,0x08,0x88,0x70,0x00,0x00,0x18,0x20,0x21,0x21,0x22,0x1C,0x00,
  73          /*--  文字:  4  --*/
  74          0x00,0x00,0x80,0x40,0x30,0xF8,0x00,0x00,0x00,0x06,0x05,0x24,0x24,0x3F,0x24,0x24,
  75          /*--  文字:  5  --*/
  76          0x00,0xF8,0x88,0x88,0x88,0x08,0x08,0x00,0x00,0x19,0x20,0x20,0x20,0x11,0x0E,0x00,
  77          /*--  文字:  6  --*/
  78          0x00,0xE0,0x10,0x88,0x88,0x90,0x00,0x00,0x00,0x0F,0x11,0x20,0x20,0x20,0x1F,0x00,
  79          /*--  文字:  7  --*/
  80          0x00,0x18,0x08,0x08,0x88,0x68,0x18,0x00,0x00,0x00,0x00,0x3E,0x01,0x00,0x00,0x00,
  81          /*--  文字:  8  --*/
  82          0x00,0x70,0x88,0x08,0x08,0x88,0x70,0x00,0x00,0x1C,0x22,0x21,0x21,0x22,0x1C,0x00,
  83          /*--  文字:  9  --*/
  84          0x00,0xF0,0x08,0x08,0x08,0x10,0xE0,0x00,0x00,0x01,0x12,0x22,0x22,0x11,0x0F,0x00,
  85          /*--  符号:  “：”  --*/
  86          0x00,0x00,0x00,0xC0,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x30,0x30,0x00,0x00,0x00,
  87          /*--  文字:  A  --*/
  88          0x00,0x00,0xC0,0x38,0xE0,0x00,0x00,0x00,0x20,0x3C,0x23,0x02,0x02,0x27,0x38,0x20,
  89          /*--  文字:  P  --*/
  90          0x08,0xF8,0x08,0x08,0x08,0x08,0xF0,0x00,0x20,0x3F,0x21,0x01,0x01,0x01,0x00,0x00,
  91          /*--  文字:  M  --*/
  92          0x08,0xF8,0xF8,0x00,0xF8,0xF8,0x08,0x00,0x20,0x3F,0x01,0x3E,0x01,0x3F,0x20,0x00
  93          };
  94          
  95          uchar code lunarDate[]={
  96          /*--  文字:  初  --*/
  97          0x08,0x08,0x89,0xEA,0x18,0x88,0x00,0x04,0x04,0xFC,0x04,0x04,0x04,0xFC,0x00,0x00,
  98          0x02,0x01,0x00,0xFF,0x01,0x86,0x40,0x20,0x18,0x07,0x40,0x80,0x40,0x3F,0x00,0x00,
  99          /*--  文字:  一  --*/
 100          0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x00,
 101          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 102          /*--  文字:  二  --*/
 103          0x00,0x00,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x00,0x00,0x00,
 104          0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x00,
 105          /*--  文字:  三  --*/
 106          0x00,0x04,0x84,0x84,0x84,0x84,0x84,0x84,0x84,0x84,0x84,0x84,0x84,0x04,0x00,0x00,
 107          0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x00,
 108          /*--  文字:  四  --*/
 109          0x00,0xFC,0x04,0x04,0x04,0xFC,0x04,0x04,0x04,0xFC,0x04,0x04,0x04,0xFC,0x00,0x00,
 110          0x00,0x7F,0x28,0x24,0x23,0x20,0x20,0x20,0x20,0x21,0x22,0x22,0x22,0x7F,0x00,0x00,
 111          /*--  文字:  五  --*/
 112          0x00,0x02,0x42,0x42,0x42,0xC2,0x7E,0x42,0x42,0x42,0x42,0xC2,0x02,0x02,0x00,0x00,
 113          0x40,0x40,0x40,0x40,0x78,0x47,0x40,0x40,0x40,0x40,0x40,0x7F,0x40,0x40,0x40,0x00,
 114          /*--  文字:  六  --*/
 115          0x20,0x20,0x20,0x20,0x20,0x20,0x21,0x22,0x2C,0x20,0x20,0x20,0x20,0x20,0x20,0x00,
 116          0x00,0x40,0x20,0x10,0x0C,0x03,0x00,0x00,0x00,0x01,0x02,0x04,0x18,0x60,0x00,0x00,
 117          /*--  文字:  七  --*/
C51 COMPILER V9.00   LCD                                                                   07/10/2021 15:25:30 PAGE 3   

 118          0x80,0x80,0x80,0x80,0x80,0x40,0xFF,0x40,0x40,0x40,0x20,0x20,0x20,0x20,0x00,0x00,
 119          0x00,0x00,0x00,0x00,0x00,0x00,0x3F,0x40,0x40,0x40,0x40,0x40,0x40,0x78,0x00,0x00,
 120          /*--  文字:  八  --*/
 121          0x00,0x00,0x00,0x00,0x00,0xFC,0x00,0x00,0x00,0x7E,0x80,0x00,0x00,0x00,0x00,0x00,
 122          0x00,0x80,0x60,0x18,0x07,0x00,0x00,0x00,0x00,0x00,0x03,0x0C,0x30,0x40,0x80,0x00,
 123          /*--  文字:  九  --*/
 124          0x00,0x10,0x10,0x10,0x10,0xFF,0x10,0x10,0x10,0x10,0xF0,0x00,0x00,0x00,0x00,0x00,
 125          0x80,0x40,0x20,0x18,0x07,0x00,0x00,0x00,0x00,0x00,0x3F,0x40,0x40,0x40,0x78,0x00,
 126          /*--  文字:  十  --*/
 127          0x40,0x40,0x40,0x40,0x40,0x40,0x40,0xFF,0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x00,
 128          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 129          /*--  文字:  廿  --*/
 130          0x20,0x20,0x20,0x20,0xFF,0x20,0x20,0x20,0x20,0x20,0x20,0xFF,0x20,0x20,0x20,0x00,
 131          0x00,0x00,0x00,0x00,0xFF,0x40,0x40,0x40,0x40,0x40,0x40,0xFF,0x00,0x00,0x00,0x00,
 132          /*--  文字:  腊  --*/
 133          0x00,0xFE,0x22,0x22,0xFE,0x40,0x48,0x48,0x7F,0x48,0x48,0x48,0x7F,0x48,0x48,0x00,
 134          0x80,0x7F,0x02,0x82,0xFF,0x00,0x00,0xFF,0x49,0x49,0x49,0x49,0x49,0xFF,0x00,0x00,
 135          /*--  文字:  正  --*/
 136          0x00,0x02,0x02,0xC2,0x02,0x02,0x02,0xFE,0x82,0x82,0x82,0x82,0x82,0x02,0x00,0x00,
 137          0x40,0x40,0x40,0x7F,0x40,0x40,0x40,0x7F,0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x00
 138          };
 139          
 140          uchar code theTerms[]={
 141          /*--  文字:  小  --*/
 142          0x00,0x00,0x00,0xE0,0x00,0x00,0x00,0xFF,0x00,0x00,0x00,0x20,0x40,0x80,0x00,0x00,
 143          0x08,0x04,0x03,0x00,0x00,0x40,0x80,0x7F,0x00,0x00,0x00,0x00,0x00,0x01,0x0E,0x00,
 144          /*--  文字:  寒  --*/
 145          0x10,0x0C,0x44,0x54,0x54,0xFC,0x55,0x56,0x54,0xFC,0x54,0x54,0x44,0x14,0x0C,0x00,
 146          0x11,0x11,0x09,0x05,0x03,0x21,0x25,0x45,0x49,0x91,0x03,0x05,0x09,0x11,0x11,0x00,
 147          /*--  文字:  大  --*/
 148          0x20,0x20,0x20,0x20,0x20,0x20,0x20,0xFF,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x00,
 149          0x80,0x80,0x40,0x20,0x10,0x0C,0x03,0x00,0x03,0x0C,0x10,0x20,0x40,0x80,0x80,0x00,
 150          /*--  文字:  寒  --*/
 151          0x10,0x0C,0x44,0x54,0x54,0xFC,0x55,0x56,0x54,0xFC,0x54,0x54,0x44,0x14,0x0C,0x00,
 152          0x11,0x11,0x09,0x05,0x03,0x21,0x25,0x45,0x49,0x91,0x03,0x05,0x09,0x11,0x11,0x00,
 153          /*--  文字:  立  --*/
 154          0x00,0x10,0x10,0x90,0x10,0x10,0x11,0x16,0x10,0x10,0x10,0xD0,0x10,0x10,0x00,0x00,
 155          0x40,0x40,0x40,0x40,0x43,0x5C,0x40,0x40,0x50,0x4C,0x43,0x40,0x40,0x40,0x40,0x00,
 156          /*--  文字:  春  --*/
 157          0x40,0x44,0x54,0x54,0xD4,0x54,0x74,0x5F,0x54,0x54,0xD4,0x54,0x54,0x44,0x40,0x00,
 158          0x04,0x04,0x02,0x01,0xFE,0x92,0x92,0x92,0x92,0x92,0xFE,0x01,0x02,0x04,0x04,0x00,
 159          /*--  文字:  雨  --*/
 160          0x02,0xE2,0x22,0x22,0x22,0x22,0x22,0xFE,0x22,0x22,0x22,0x22,0x22,0xE2,0x02,0x00,
 161          0x00,0xFF,0x00,0x00,0x09,0x12,0x00,0x7F,0x00,0x09,0x12,0x40,0x80,0x7F,0x00,0x00,
 162          /*--  文字:  水  --*/
 163          0x00,0x20,0x20,0x20,0xA0,0x60,0x00,0xFF,0x60,0x80,0x40,0x20,0x18,0x00,0x00,0x00,
 164          0x20,0x10,0x08,0x06,0x01,0x40,0x80,0x7F,0x00,0x01,0x02,0x04,0x08,0x10,0x10,0x00,
 165          /*--  文字:  惊  --*/
 166          0x00,0xE0,0x00,0xFF,0x10,0x20,0x04,0xE4,0x24,0x25,0x26,0x24,0x24,0xE4,0x04,0x00,
 167          0x01,0x00,0x00,0xFF,0x00,0x20,0x10,0x0D,0x41,0x81,0x7F,0x01,0x05,0x09,0x30,0x00,
 168          /*--  文字:  蛰  --*/
 169          0x24,0xA4,0x24,0xFF,0x14,0x00,0x84,0x54,0x3F,0x44,0x04,0x7C,0x80,0xE0,0x00,0x00,
 170          0x00,0x40,0xC1,0x5E,0x52,0x53,0x52,0x7F,0x52,0x52,0x52,0x5E,0x60,0xC1,0x00,0x00,
 171          /*--  文字:  春  --*/
 172          0x40,0x44,0x54,0x54,0xD4,0x54,0x74,0x5F,0x54,0x54,0xD4,0x54,0x54,0x44,0x40,0x00,
 173          0x04,0x04,0x02,0x01,0xFE,0x92,0x92,0x92,0x92,0x92,0xFE,0x01,0x02,0x04,0x04,0x00,
 174          /*--  文字:  分  --*/
 175          0x80,0x40,0x20,0x90,0x88,0x86,0x80,0x80,0x80,0x83,0x8C,0x10,0x20,0x40,0x80,0x00,
 176          0x00,0x80,0x40,0x20,0x18,0x07,0x00,0x40,0x80,0x40,0x3F,0x00,0x00,0x00,0x00,0x00,
 177          /*--  文字:  清  --*/
 178          0x10,0x60,0x02,0x8C,0x00,0x44,0x54,0x54,0x54,0x7F,0x54,0x54,0x54,0x44,0x40,0x00,
 179          0x04,0x04,0x7E,0x01,0x00,0x00,0xFF,0x15,0x15,0x15,0x55,0x95,0x7F,0x00,0x00,0x00,
C51 COMPILER V9.00   LCD                                                                   07/10/2021 15:25:30 PAGE 4   

 180          /*--  文字:  明  --*/
 181          0x00,0xFC,0x44,0x44,0x44,0xFC,0x00,0x00,0xFE,0x22,0x22,0x22,0x22,0xFE,0x00,0x00,
 182          0x00,0x0F,0x04,0x04,0x04,0x8F,0x40,0x30,0x0F,0x02,0x02,0x42,0x82,0x7F,0x00,0x00,
 183          /*--  文字:  谷  --*/
 184          0x00,0x10,0x88,0x84,0x43,0x20,0x10,0x0C,0x10,0x20,0x41,0x82,0x84,0x08,0x00,0x00,
 185          0x01,0x01,0x00,0xFE,0x42,0x42,0x42,0x42,0x42,0x42,0x42,0xFE,0x00,0x01,0x01,0x00,
 186          /*--  文字:  雨  --*/
 187          0x02,0xE2,0x22,0x22,0x22,0x22,0x22,0xFE,0x22,0x22,0x22,0x22,0x22,0xE2,0x02,0x00,
 188          0x00,0xFF,0x00,0x00,0x09,0x12,0x00,0x7F,0x00,0x09,0x12,0x40,0x80,0x7F,0x00,0x00,
 189          /*--  文字:  立  --*/
 190          0x00,0x10,0x10,0x90,0x10,0x10,0x11,0x16,0x10,0x10,0x10,0xD0,0x10,0x10,0x00,0x00,
 191          0x40,0x40,0x40,0x40,0x43,0x5C,0x40,0x40,0x50,0x4C,0x43,0x40,0x40,0x40,0x40,0x00,
 192          /*--  文字:  夏  --*/
 193          0x00,0x01,0x01,0xFD,0x55,0x55,0x57,0x55,0x55,0x55,0x55,0xFD,0x01,0x01,0x00,0x00,
 194          0x80,0x90,0x88,0x45,0x4F,0x55,0x25,0x25,0x25,0x55,0x4D,0x45,0x80,0x80,0x80,0x00,
 195          /*--  文字:  小  --*/
 196          0x00,0x00,0x00,0xE0,0x00,0x00,0x00,0xFF,0x00,0x00,0x00,0x20,0x40,0x80,0x00,0x00,
 197          0x08,0x04,0x03,0x00,0x00,0x40,0x80,0x7F,0x00,0x00,0x00,0x00,0x00,0x01,0x0E,0x00,
 198          /*--  文字:  满  --*/
 199          0x10,0x60,0x02,0x8C,0x00,0x24,0x24,0x2F,0xE4,0x24,0x24,0xE4,0x2F,0x24,0x24,0x00,
 200          0x04,0x04,0x7E,0x01,0x00,0xFF,0x11,0x09,0x07,0x19,0x09,0x07,0x49,0x91,0x7F,0x00,
 201          /*--  文字:  芒  --*/
 202          0x84,0x84,0x84,0x84,0x9F,0x84,0xA4,0xC4,0x84,0x84,0x9F,0x84,0x84,0x84,0x84,0x00,
 203          0x00,0x00,0x00,0x00,0x7F,0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x00,0x00,
 204          /*--  文字:  种  --*/
 205          0x24,0x24,0xA4,0xFE,0x23,0x22,0x00,0xF0,0x10,0x10,0xFF,0x10,0x10,0xF0,0x00,0x00,
 206          0x08,0x06,0x01,0xFF,0x01,0x06,0x00,0x07,0x02,0x02,0xFF,0x02,0x02,0x07,0x00,0x00,
 207          /*--  文字:  夏  --*/
 208          0x00,0x01,0x01,0xFD,0x55,0x55,0x57,0x55,0x55,0x55,0x55,0xFD,0x01,0x01,0x00,0x00,
 209          0x80,0x90,0x88,0x45,0x4F,0x55,0x25,0x25,0x25,0x55,0x4D,0x45,0x80,0x80,0x80,0x00,
 210          /*--  文字:  至  --*/
 211          0x00,0x02,0x42,0x62,0x52,0x4A,0x46,0x42,0x42,0x42,0x52,0x62,0xC2,0x02,0x00,0x00,
 212          0x40,0x40,0x44,0x44,0x44,0x44,0x44,0x7F,0x44,0x44,0x44,0x44,0x44,0x40,0x40,0x00,
 213          /*--  文字:  小  --*/
 214          0x00,0x00,0x00,0xE0,0x00,0x00,0x00,0xFF,0x00,0x00,0x00,0x20,0x40,0x80,0x00,0x00,
 215          0x08,0x04,0x03,0x00,0x00,0x40,0x80,0x7F,0x00,0x00,0x00,0x00,0x00,0x01,0x0E,0x00,
 216          /*--  文字:  暑  --*/
 217          0x00,0x00,0x00,0x5F,0x55,0x55,0xF5,0x55,0x55,0x55,0x95,0x5F,0x00,0x00,0x00,0x00,
 218          0x11,0x11,0x09,0x09,0xFD,0x55,0x57,0x57,0x55,0x55,0x55,0xFD,0x01,0x01,0x01,0x00,
 219          /*--  文字:  大  --*/
 220          0x20,0x20,0x20,0x20,0x20,0x20,0x20,0xFF,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x00,
 221          0x80,0x80,0x40,0x20,0x10,0x0C,0x03,0x00,0x03,0x0C,0x10,0x20,0x40,0x80,0x80,0x00,
 222          /*--  文字:  暑  --*/
 223          0x00,0x00,0x00,0x5F,0x55,0x55,0xF5,0x55,0x55,0x55,0x95,0x5F,0x00,0x00,0x00,0x00,
 224          0x11,0x11,0x09,0x09,0xFD,0x55,0x57,0x57,0x55,0x55,0x55,0xFD,0x01,0x01,0x01,0x00,
 225          /*--  文字:  立  --*/
 226          0x00,0x10,0x10,0x90,0x10,0x10,0x11,0x16,0x10,0x10,0x10,0xD0,0x10,0x10,0x00,0x00,
 227          0x40,0x40,0x40,0x40,0x43,0x5C,0x40,0x40,0x50,0x4C,0x43,0x40,0x40,0x40,0x40,0x00,
 228          /*--  文字:  秋  --*/
 229          0x24,0x24,0xA4,0xFE,0x23,0x22,0x80,0x70,0x00,0xFF,0x00,0x80,0x40,0x30,0x00,0x00,
 230          0x08,0x06,0x01,0xFF,0x01,0x86,0x40,0x30,0x0E,0x01,0x06,0x18,0x20,0x40,0x80,0x00,
 231          /*--  文字:  处  --*/
 232          0x00,0x80,0x60,0x9F,0x08,0x08,0xF8,0x00,0x00,0xFF,0x10,0x20,0x40,0x80,0x00,0x00,
 233          0x81,0x40,0x20,0x13,0x0C,0x13,0x20,0x20,0x40,0x5F,0x40,0x40,0x40,0x41,0x40,0x00,
 234          /*--  文字:  暑  --*/
 235          0x00,0x00,0x00,0x5F,0x55,0x55,0xF5,0x55,0x55,0x55,0x95,0x5F,0x00,0x00,0x00,0x00,
 236          0x11,0x11,0x09,0x09,0xFD,0x55,0x57,0x57,0x55,0x55,0x55,0xFD,0x01,0x01,0x01,0x00,
 237          /*--  文字:  白  --*/
 238          0x00,0x00,0xF8,0x08,0x08,0x0C,0x0A,0x09,0x08,0x08,0x08,0x08,0xF8,0x00,0x00,0x00,
 239          0x00,0x00,0xFF,0x41,0x41,0x41,0x41,0x41,0x41,0x41,0x41,0x41,0xFF,0x00,0x00,0x00,
 240          /*--  文字:  露  --*/
 241          0x10,0x0C,0x05,0x55,0x55,0x55,0x05,0x7F,0x05,0xD5,0x55,0x55,0x05,0x14,0x0C,0x00,
C51 COMPILER V9.00   LCD                                                                   07/10/2021 15:25:30 PAGE 5   

 242          0x80,0xF7,0x85,0x7D,0x55,0x57,0x00,0x0A,0xE9,0xAB,0xA5,0xA5,0xEB,0x08,0x08,0x00,
 243          /*--  文字:  秋  --*/
 244          0x24,0x24,0xA4,0xFE,0x23,0x22,0x80,0x70,0x00,0xFF,0x00,0x80,0x40,0x30,0x00,0x00,
 245          0x08,0x06,0x01,0xFF,0x01,0x86,0x40,0x30,0x0E,0x01,0x06,0x18,0x20,0x40,0x80,0x00,
 246          /*--  文字:  分  --*/
 247          0x80,0x40,0x20,0x90,0x88,0x86,0x80,0x80,0x80,0x83,0x8C,0x10,0x20,0x40,0x80,0x00,
 248          0x00,0x80,0x40,0x20,0x18,0x07,0x00,0x40,0x80,0x40,0x3F,0x00,0x00,0x00,0x00,0x00,
 249          /*--  文字:  寒  --*/
 250          0x10,0x0C,0x44,0x54,0x54,0xFC,0x55,0x56,0x54,0xFC,0x54,0x54,0x44,0x14,0x0C,0x00,
 251          0x11,0x11,0x09,0x05,0x03,0x21,0x25,0x45,0x49,0x91,0x03,0x05,0x09,0x11,0x11,0x00,
 252          /*--  文字:  露  --*/
 253          0x10,0x0C,0x05,0x55,0x55,0x55,0x05,0x7F,0x05,0xD5,0x55,0x55,0x05,0x14,0x0C,0x00,
 254          0x80,0xF7,0x85,0x7D,0x55,0x57,0x00,0x0A,0xE9,0xAB,0xA5,0xA5,0xEB,0x08,0x08,0x00,
 255          /*--  文字:  霜  --*/
 256          0x10,0x0C,0x05,0x55,0x55,0x55,0x05,0x7F,0x05,0x55,0x55,0x55,0x05,0x14,0x0C,0x00,
 257          0x20,0x12,0x0A,0x06,0xFF,0x0A,0x12,0x00,0xFF,0x55,0x55,0x55,0x55,0xFF,0x00,0x00,
 258          /*--  文字:  降  --*/
 259          0x00,0xFE,0x02,0x22,0xDA,0x86,0x90,0x48,0x57,0x24,0xA4,0x54,0x4C,0x84,0x80,0x00,
 260          0x00,0xFF,0x08,0x10,0x08,0x07,0x18,0x12,0x12,0x12,0xFF,0x12,0x12,0x12,0x10,0x00,
 261          /*--  文字:  立  --*/
 262          0x00,0x10,0x10,0x90,0x10,0x10,0x11,0x16,0x10,0x10,0x10,0xD0,0x10,0x10,0x00,0x00,
 263          0x40,0x40,0x40,0x40,0x43,0x5C,0x40,0x40,0x50,0x4C,0x43,0x40,0x40,0x40,0x40,0x00,
 264          /*--  文字:  冬  --*/
 265          0x00,0x20,0x10,0x08,0x94,0xA7,0x44,0x44,0x44,0xA4,0x94,0x0C,0x00,0x00,0x00,0x00,
 266          0x02,0x02,0x01,0x01,0x20,0x24,0x24,0x44,0x48,0x88,0x10,0x01,0x01,0x02,0x02,0x00,
 267          /*--  文字:  小  --*/
 268          0x00,0x00,0x00,0xE0,0x00,0x00,0x00,0xFF,0x00,0x00,0x00,0x20,0x40,0x80,0x00,0x00,
 269          0x08,0x04,0x03,0x00,0x00,0x40,0x80,0x7F,0x00,0x00,0x00,0x00,0x00,0x01,0x0E,0x00,
 270          /*--  文字:  雪  --*/
 271          0x10,0x0C,0x05,0x55,0x55,0x55,0x05,0x7F,0x05,0x55,0x55,0x55,0x05,0x14,0x0C,0x00,
 272          0x00,0x00,0x41,0x49,0x49,0x49,0x49,0x49,0x49,0x49,0x49,0x49,0xFF,0x00,0x00,0x00,
 273          /*--  文字:  大  --*/
 274          0x20,0x20,0x20,0x20,0x20,0x20,0x20,0xFF,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x00,
 275          0x80,0x80,0x40,0x20,0x10,0x0C,0x03,0x00,0x03,0x0C,0x10,0x20,0x40,0x80,0x80,0x00,
 276          /*--  文字:  雪  --*/
 277          0x10,0x0C,0x05,0x55,0x55,0x55,0x05,0x7F,0x05,0x55,0x55,0x55,0x05,0x14,0x0C,0x00,
 278          0x00,0x00,0x41,0x49,0x49,0x49,0x49,0x49,0x49,0x49,0x49,0x49,0xFF,0x00,0x00,0x00,
 279          /*--  文字:  冬  --*/
 280          0x00,0x20,0x10,0x08,0x94,0xA7,0x44,0x44,0x44,0xA4,0x94,0x0C,0x00,0x00,0x00,0x00,
 281          0x02,0x02,0x01,0x01,0x20,0x24,0x24,0x44,0x48,0x88,0x10,0x01,0x01,0x02,0x02,0x00,
 282          /*--  文字:  至  --*/
 283          0x00,0x02,0x42,0x62,0x52,0x4A,0x46,0x42,0x42,0x42,0x52,0x62,0xC2,0x02,0x00,0x00,
 284          0x40,0x40,0x44,0x44,0x44,0x44,0x44,0x7F,0x44,0x44,0x44,0x44,0x44,0x40,0x40,0x00,
 285          };
 286          
 287          
 288          /*******************************************************************
 289          延时子程序
 290          *******************************************************************/
 291          void delay(uint xms){
 292   1      uint i,j;
 293   1      for(i=xms;i>0;i--)
 294   1              for(j=110;j>0;j--) ;
 295   1      }
 296          
 297          /*******************************************************************
 298          LCD忙检查子程序
 299          *******************************************************************/
 300          void CheckState(){
 301   1      uchar dat;
 302   1      RS=0;
 303   1      RW=1;
C51 COMPILER V9.00   LCD                                                                   07/10/2021 15:25:30 PAGE 6   

 304   1      do{
 305   2      DATA=0x00;
 306   2      EN=1;
 307   2      _nop_();
 308   2      dat=DATA;
 309   2      EN=0;
 310   2      dat=0x80&dat;
 311   2      }while(!(dat==0x00));
 312   1      }
 313          
 314          /*******************************************************************
 315          函数名称：SendCommandToLCD()
 316          函数功能：向LCD写命令
 317          输入参数：com 输入的命令 
 318          返回值：  无
 319          *******************************************************************/
 320          void SendCommandToLCD(uchar com){
 321   1      CheckState();
 322   1      RS=0;
 323   1      RW=0;              //MPU写指令到指令暂存器IR
 324   1      DATA=com;                  //要写入的命令
 325   1      EN=1;              //E从高到低，进行写指令
 326   1      _nop_();           //延迟指令，时间为1us
 327   1      _nop_();
 328   1      EN=0;
 329   1      }
 330          
 331          /*******************************************************************
 332          设置页码
 333          *******************************************************************/
 334          void SetLine(uchar page){        
 335   1      page=0xb8|page;
 336   1      SendCommandToLCD(page);
 337   1      }
 338          
 339          /*******************************************************************
 340          设置起始行
 341          *******************************************************************/
 342          void SetStartLine(uchar startline){     
 343   1      startline=0xc0|startline;
 344   1      SendCommandToLCD(startline);
 345   1      }
 346          
 347          /*******************************************************************
 348          设置起始列，列号为0到63
 349          *******************************************************************/
 350          void SetColumn(uchar column){     
 351   1      column=column&0x3f;
 352   1      column=0x40|column;
 353   1      SendCommandToLCD(column);
 354   1      }
 355          
 356          
 357          /*******************************************************************
 358          开关显示屏，onoff只能为0或1
 359          onoff为1则开，onoff为0则关
 360          *******************************************************************/
 361          void SetOnOff(uchar onoff){
 362   1              onoff=0x3e|onoff;
 363   1              SendCommandToLCD(onoff);
 364   1      }
 365          
C51 COMPILER V9.00   LCD                                                                   07/10/2021 15:25:30 PAGE 7   

 366          /*******************************************************************
 367          写数据
 368          *******************************************************************/
 369          void WriteByte(uchar dat){                
 370   1      CheckState();
 371   1      RS=1;
 372   1      RW=0;
 373   1      DATA=dat;                                 //dat应该就是要写的数据
 374   1      EN=1;
 375   1      _nop_();
 376   1      _nop_();
 377   1      EN=0;
 378   1      }
 379          
 380          /*******************************************************************
 381          选屏，screen=0，1，2
 382          *******************************************************************/
 383          void SelectScreen(uchar screen){
 384   1      switch(screen){
 385   2      case 0:cs1=0;   //全屏显示
 386   2                      _nop_();
 387   2                      _nop_();
 388   2                      _nop_();
 389   2                      cs2=0;
 390   2                      _nop_();
 391   2                      _nop_();
 392   2                      _nop_();
 393   2                      break;
 394   2      case 1:cs1=0;     //左屏显示
 395   2                      _nop_();
 396   2                      _nop_();
 397   2                      _nop_();
 398   2                      cs2=1;
 399   2                      _nop_();
 400   2                      _nop_();
 401   2                      _nop_();
 402   2                      break;
 403   2      case 2:cs1=1;      //右屏显示
 404   2                      _nop_();
 405   2                      _nop_();
 406   2                      _nop_();
 407   2                      cs2=0;
 408   2                      _nop_();
 409   2                      _nop_();
 410   2                      _nop_();
 411   2                      break;
 412   2      }
 413   1      }
 414          
 415          
 416          /*******************************************************************
 417          清屏，screen=0，1，2
 418          *******************************************************************/
 419          void ClearScreen(uchar screen){
 420   1      uchar i,j;
 421   1      SelectScreen(screen);
 422   1      for(i=0;i<8;i++)
 423   1      {
 424   2              SetLine(i);
 425   2              SetColumn(0);
 426   2              for(j=0;j<64;j++)
 427   2              {
C51 COMPILER V9.00   LCD                                                                   07/10/2021 15:25:30 PAGE 8   

 428   3                      WriteByte(0x00);        //写数据列地址将自动+1
 429   3              }
 430   2      }
 431   1      }
 432          
 433          /*******************************************************************
 434          初始化子程序
 435          *******************************************************************/
 436          void InitLCD(){
 437   1      CheckState();
 438   1      SelectScreen(0);
 439   1      SetOnOff(0);         //关屏
 440   1      SelectScreen(0);
 441   1      SetOnOff(1);         //开屏
 442   1      SelectScreen(0);
 443   1      ClearScreen(0);      //清屏
 444   1      SetStartLine(0);     //开始行为0
 445   1      }
 446          
 447          /*******************************************************************
 448          函数名称：Display()
 449          函数功能：lcd设定显示位置并显示字符串子程序，包括中英文、数字、特殊字符。
 450          输入参数：ss:屏号  column：列号  number：字号   page：页号（可理解为要显示的汉字位于屏幕的page行）
 451          返回值：  无
 452          *******************************************************************/
 453          void DisplayNumber(uchar ss, uchar page,uchar column,uchar number){
 454   1              int i;
 455   1              SelectScreen(ss);
 456   1              SetLine(page);                          //显示第number个汉字的上半部分
 457   1              SetColumn(column);
 458   1              for(i=0;i<8;i++){                           //i为一个字里面的各个列
 459   2                      WriteByte(numbers[i+16*number]);
 460   2              }
 461   1              SetLine(page+1);                        //显示第number个汉字的下半部分
 462   1              SetColumn(column);
 463   1              for(i=0;i<8;i++){
 464   2                      WriteByte(numbers[i+16*number+8]);
 465   2              }
 466   1      }
 467          
 468          void DisplayWord1(uchar ss, uchar page,uchar column,uchar number){
 469   1              int i;
 470   1              SelectScreen(ss);
 471   1              SetLine(page);                          //显示第number个汉字的上半部分
 472   1              SetColumn(column);                        
 473   1              for(i=0;i<16;i++){                          //i为一个字里面的各个列
 474   2                      WriteByte(words[i+32*number]);
 475   2              }
 476   1              SetLine(page+1);                        //显示第number个汉字的下半部分
 477   1              SetColumn(column);
 478   1              for(i=0;i<16;i++){
 479   2                      WriteByte(words[i+32*number+16]);
 480   2      }
 481   1      }
 482          
 483          
 484          void DisplaySolarTerm(uchar ss, uchar page,uchar column,uchar number){
 485   1              int i;
 486   1              SelectScreen(ss);
 487   1              SetLine(page);                          //显示第number个汉字的上半部分
 488   1              SetColumn(column);                        
 489   1              for(i=0;i<16;i++){                          //i为一个字里面的各个列
C51 COMPILER V9.00   LCD                                                                   07/10/2021 15:25:30 PAGE 9   

 490   2                      WriteByte(theTerms[i+32*number]);
 491   2              }
 492   1              SetLine(page+1);                        //显示第number个汉字的下半部分
 493   1              SetColumn(column);
 494   1              for(i=0;i<16;i++){
 495   2                      WriteByte(theTerms[i+32*number+16]);
 496   2      }
 497   1      }
 498          /*显示天干地支*/
 499          /*
 500          void Displaytiangan(uchar ss, uchar page,uchar column,uchar number){
 501                  int i;
 502                  SelectScreen(ss);
 503                  SetLine(page);                          //显示第number个汉字的上半部分
 504                  SetColumn(column);                        
 505                  for(i=0;i<16;i++){                          //i为一个字里面的各个列
 506                          WriteByte(tiangan[i+32*number]);
 507                  }
 508                  SetLine(page+1);                        //显示第number个汉字的下半部分
 509                  SetColumn(column);
 510                  for(i=0;i<16;i++){
 511                          WriteByte(tiangan[i+32*number+16]);
 512          }
 513          }
 514          
 515          void Displaydizhi(uchar ss, uchar page,uchar column,uchar number){
 516                  int i;
 517                  SelectScreen(ss);
 518                  SetLine(page);                          //显示第number个汉字的上半部分
 519                  SetColumn(column);                        
 520                  for(i=0;i<16;i++){                          //i为一个字里面的各个列
 521                          WriteByte(dizhi[i+32*number]);
 522                  }
 523                  SetLine(page+1);                        //显示第number个汉字的下半部分
 524                  SetColumn(column);
 525                  for(i=0;i<16;i++){
 526                          WriteByte(dizhi[i+32*number+16]);
 527          }
 528          }
 529          */
 530          void DisplaySunToLunar(uchar ss, uchar page,uchar column,uchar number){
 531   1              int i;
 532   1              SelectScreen(ss);
 533   1              SetLine(page);                          //显示第number个汉字的上半部分
 534   1              SetColumn(column);                        
 535   1              for(i=0;i<16;i++){                          //i为一个字里面的各个列
 536   2                      WriteByte(lunarDate[i+32*number]);
 537   2              }
 538   1              SetLine(page+1);                        //显示第number个汉字的下半部分
 539   1              SetColumn(column);
 540   1              for(i=0;i<16;i++){
 541   2                      WriteByte(lunarDate[i+32*number+16]);
 542   2      }
 543   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    604    ----
   CONSTANT SIZE    =   2688    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----      16
C51 COMPILER V9.00   LCD                                                                   07/10/2021 15:25:30 PAGE 10  

   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
